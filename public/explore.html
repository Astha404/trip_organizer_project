<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Places</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            text-align: center;
            background:url('https://cdn.clippingpath.in/wp-content/uploads/2018/11/adult-blur-camera-368893.jpg')no-repeat center center fixed;
        }
        .search-container {
            margin-bottom: 20px;
        }
        input, select {
            padding: 10px;
            margin: 5px;
            width: 200px;
        }
        .places-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .place {
            background: white;
            padding: 15px;
            margin: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
            width: 250px;
            cursor: pointer;
            position: relative;
        }
        .add-btn {
            background: green;
            color: white;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        .add-btn:disabled {
            background: gray;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1>Explore Places</h1>
    <div class="search-container">
        <input type="text" id="search" placeholder="Search places...">
        <select id="category">
            <option value="all">All</option>
            <option value="beach">Beaches</option>
            <option value="mountain">Mountains</option>
            <option value="historical">Historical</option>
        </select>
    </div>
    <div class="places-container" id="places-list"></div>
    <button onclick="window.location.href='itinerary.html'">View Itinerary</button>
    
    <script>
        const places = [
            { name: "Goa Beach", category: "beach", description: "Beautiful sandy beach in Goa.", image:"https://static.bankbazaar.com/images/india/infographic/goa.webp"},
            { name: "Manali Hills", category: "mountain", description: "Snow-covered mountains in Manali.", image:"https://static.toiimg.com/photo/72523293.cms" },
            { name: "Taj Mahal", category: "historical", description: "Iconic symbol of love in Agra.",image:"https://media.tacdn.com/media/attractions-splice-spp-674x446/06/71/c3/53.jpg" },
            { name: "Kashmir Valley", category: "mountain", description: "Stunning valley in Kashmir.",image:"https://lp-cms-production.imgix.net/2019-06/384e10f39ebc6fab9b991467541ce8ed-dal-lake.jpg" },
            { name: "Golden Temple", category: "historical", description: "Famous Sikh temple in Amritsar.",image:"https://m.media-amazon.com/images/I/61lieDcGbuS._AC_UF1000,1000_QL80_.jpg" }
        ];

        function displayPlaces() {
    const searchQuery = document.getElementById("search").value.toLowerCase();
    const selectedCategory = document.getElementById("category").value;
    const placesList = document.getElementById("places-list");
    placesList.innerHTML = "";

    places.filter(place => 
        (selectedCategory === "all" || place.category === selectedCategory) &&
        place.name.toLowerCase().includes(searchQuery)
    ).forEach(place => {
        const div = document.createElement("div");
        div.classList.add("place");
        div.innerHTML = `
            <img src="${place.image}" alt="${place.name}" style="width:100%; height:150px; object-fit:cover; border-radius:5px;">
            <h3>${place.name}</h3>
            <p>Category: ${place.category}</p>
            <p>${place.description}</p> 
            <button class="add-btn" onclick="addToItinerary('${place.name}', this)">➕ Add to Itinerary</button>
        `;
        placesList.appendChild(div);
    });
}

        function addToItinerary(placeName, btn) {
    let itinerary = JSON.parse(localStorage.getItem("itinerary")) || [];
    
    // Check if the place is already added
    let alreadyExists = itinerary.some(place => place.name === placeName);
    if (!alreadyExists) {
        itinerary.push({ name: placeName, status: "Pending" }); // Save as object
        localStorage.setItem("itinerary", JSON.stringify(itinerary));
        btn.innerText = "✔️ Added!";
        btn.disabled = true;
    }
}


        document.getElementById("search").addEventListener("input", displayPlaces);
        document.getElementById("category").addEventListener("change", displayPlaces);

        displayPlaces();
    </script>
</body>
</html>
